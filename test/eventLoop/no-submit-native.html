<script src="https://cdn.jsdelivr.net/gh/orstavik/parse@v1.0.2/parse.js"></script>
<script src="https://cdn.jsdelivr.net/gh/orstavik/ElementObserver/constructionFrame.js"></script>
<script src="../../src/EventRegistry.js"></script>

<form submit:log:no action="shouldNeverHappen.html" unload:bug>
  <input type="text" name="hello" value="sunshine">
</form>

<script type="module">
  customEventFilters.define("no", function (e) {
    return e.preventDefault(), e;
  });
  customEventFilters.define("log", function (e) {
    return console.log(e.type), e;
  });

  const form = document.querySelector("form");
  form.requestSubmit(); //todo why doesn't this work??
  setTimeout(() => console.log("only sunshine"), 20);
</script>