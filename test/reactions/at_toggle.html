<script src="https://cdn.jsdelivr.net/gh/orstavik/ElementObserver@1.1.2/observeElementCreation.js"></script>
<script src="../../src/customAttributes.js"></script>
<script src="../../src/dotReaction.js"></script>
<script src="../../src/lib.js"></script>

<style>
  div:not([open]) > :not(h1) {
    display: none;
  }
</style>

<div
    toggle:window.get-computed-style_this.owner-element.children.1:console.log_e.display_1
    toggle:open
    toggle:window.get-computed-style_this.owner-element.children.1:console.log_e.display_2
>
  <h1 click:toggle:dispatch>hello</h1>
  <p>sunshine</p>
  <p>world</p>
</div>

<script type="module">
  customReactions.defineAll({
    "open": lib.toggleAttr,
    dispatch: lib.dispatch,
    "toggle": lib.event
  });

  document.querySelector("h1").click();
</script>