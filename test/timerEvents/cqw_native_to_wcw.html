<style>
  h4 {
    width: calc(var(--wcw) * 60);
    /*is the width of h4 200px or 100px? the answer is 200px.., and that is confusing. This means that cqw unit cannot be made available to slotted elements in any form. You cannot make the local slotted context unit available to the lightdom.*/
    border: 2px solid lightblue;
  }
</style>
<web-comp>
  <h4>hello 50wcw light</h4>
</web-comp>

<script>
  class WebComp extends HTMLElement {
    constructor() {
      super();
      this.attachShadow({mode: "open"});
      this.shadowRoot.innerHTML = `
<style>
  :host{
    display: block;
  }
  div{
    container-type: inline-size;
    width: 50cqw;
    --wcw: 1cqw;
    /*this should be 200px wide, and it is*/
    border: 2px solid red;
  }
  h4{
    width: calc(var(--wcw) * 50);
    /*this should be 100px wide, and it is*/
    border: 2px solid orange;
  }
</style>
<div>
<slot></slot>
<h4>hello 50wcw shadow</h4>
</div>`;
    }
  }

  customElements.define("web-comp", WebComp);
</script>