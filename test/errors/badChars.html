<style>* { white-space: pre;}</style>
<body
        :a:b
        :a::b
        a::b
        a::b:c
        a::b::c

        c:a$
        c$:a$
        c:a,
        c,:a,
        c:a(
        c(:a(
        c:a)
        c):a)
        c:a&
        c&:a&
        c:a!
        c!:a!
        c:*#
        :c\#
>
<pre>
  1. https://raw.githack.com/orstavik/customAttributes2/main/test/errors/badChars.html
  2. test this link in browserstack.io or testingbot.com to see it in different browser types.
</pre>
<h1>Attribute names</h1>
<ol id="template">
  <li>from template:</li>
</ol>
<ol id="removeAttribute">
  <li>removeAttribute():</li>
</ol>
<ol id="nonRemoveAttribute">
  <li>removeAttribute() fails</li>
</ol>
<ol id="setAttribute">
  <li>setAttribute()</li>
</ol>
<ol id="nonSetAttribute">
  <li>setAttribute() fails</li>
</ol>
<ol id="characterEscaping">
  <li>Escape first character</li>
</ol>
<ol id="nonCharacterEscaping">
  <li>Escape first character fails</li>
</ol>
<ol id="encodeURIComponent">
  <li>encodeURIComponent() first character</li>
</ol>
<ol id="nonEncodeURIComponent">
  <li>encodeURIComponent() first character fails</li>
</ol>

</body>
<script type="module">
  const template = document.getElementById("template");
  const remove = document.getElementById("removeAttribute");
  const removeFail = document.getElementById("nonRemoveAttribute");
  const setAttr = document.getElementById("setAttribute");
  const setAttrFail = document.getElementById("nonSetAttribute");
  const charEscape = document.getElementById("characterEscaping");
  const charEscapeFails = document.getElementById("nonCharacterEscaping");
  const encodeUri = document.getElementById("encodeURIComponent");
  const encodeUriFails = document.getElementById("nonEncodeURIComponent");

  for (let {name} of [...document.body.attributes]) {
    const li = `<li>${name}</li>`;
    template.insertAdjacentHTML("beforeend", li);
    try {
      document.body.removeAttribute(name);
      remove.insertAdjacentHTML("beforeend", li);
    } catch (err) {
      removeFail.insertAdjacentHTML("beforeend", li);
    }
    try {
      document.body.setAttribute(name, "");
      setAttr.insertAdjacentHTML("beforeend", li);
    } catch (err) {
      setAttrFail.insertAdjacentHTML("beforeend", li);
    }
  }

  const chars = ['â„–', '!', '@', '#', '$', '%', '?', '^', '&', '*', '(', ')', '>', '<', '|', '\\', '/', '+', '~', ':', '_', '.', ' '];

  for (const char of chars) {
    const li = `<li>${char}</li>`;
    try {
      document.body.setAttribute(String.raw`${char}`, "");
      charEscape.insertAdjacentHTML("beforeend", li);
    } catch (err) {
      charEscapeFails.insertAdjacentHTML("beforeend", li);
    }
    try {
      document.body.setAttribute(encodeURIComponent(char), "");
      encodeUri.insertAdjacentHTML("beforeend", li);
    } catch (err) {
      encodeUriFails.insertAdjacentHTML("beforeend", li);
    }
  }

</script>
